# ライセンス要件

## 1. 概要

本ドキュメントでは、マイクロサービス移行に必要なライセンスの一覧と、ベンダーへの問い合わせに必要な情報をまとめています。

---

## 2. 必須ライセンス

### 2.1 ScalarDB Cluster Enterprise

#### 製品概要

| 項目 | 内容 |
|------|------|
| **製品名** | ScalarDB Cluster |
| **ベンダー** | Scalar, Inc. |
| **用途** | 分散トランザクション管理、Multi-storage統合 |
| **必要性** | **必須** - アーキテクチャの中核コンポーネント |

#### 問い合わせに必要な情報

以下の情報を準備して問い合わせてください。

**クラスター構成（本番環境）:**

| 項目 | 値 | 説明 |
|------|---|------|
| ノード数 | 3 | Active-Active 3ノード構成 |
| CPU/ノード | 4 vCPU | m5.xlarge相当 |
| メモリ/ノード | 16 GB | m5.xlarge相当 |
| **CPU合計** | **12 vCPU** | 3ノード × 4 vCPU |
| **メモリ合計** | **48 GB** | 3ノード × 16 GB |

**ストレージバックエンド:**

| ストレージ | 用途 | Namespace |
|-----------|------|-----------|
| PostgreSQL | Identity, Audit, File, Coordinator | 4 |
| Cassandra | Event | 1 |
| **合計** | | **5 Namespace** |

**性能要件:**

| 項目 | 目標値 |
|------|-------|
| 想定TPS | 1,000+ (ピーク時) |
| トランザクションレイテンシ P99 | < 200ms |
| 可用性 | 99.9% |

**接続方式:**

| インターフェース | 使用有無 | 用途 |
|----------------|---------|------|
| gRPC | ○ | メイン（分散トランザクション） |
| SQL | △ | オプション（Analytics連携時） |
| GraphQL | △ | オプション（将来的なAPI拡張） |

**環境構成:**

| 環境 | ノード数 | 用途 |
|------|---------|------|
| 本番 | 3 | 本番ワークロード |
| ステージング | 2 | 検証・負荷テスト |
| 開発 | 1 | 開発・単体テスト |
| **合計** | **6** | |

**サポート要件:**

| 項目 | 要件 |
|------|------|
| サポートレベル | Premium推奨 (24/7) |
| SLA | 99.9%以上 |
| 言語 | 日本語 |

#### 問い合わせ先

| 項目 | 情報 |
|------|------|
| **ウェブサイト** | https://www.scalar-labs.com/contact |
| **メール** | contact@scalar-labs.com |
| **電話** | 公式サイト参照 |

#### 見積もり取得時の質問事項

1. ノード数ベースの価格体系か、vCPUベースか
2. 開発/ステージング環境の割引有無
3. 年間契約と月額契約の価格差
4. サポートレベル別の価格
5. ScalarDB Analyticsとのバンドル割引

---

### 2.2 BOX Platform

#### 製品概要

| 項目 | 内容 |
|------|------|
| **製品名** | BOX Platform |
| **ベンダー** | Box, Inc. |
| **用途** | ファイルストレージAPI、OAuth認証、イベント取得 |
| **必要性** | **必須** - 既存システムのBox連携を継続 |

#### 問い合わせに必要な情報

**API利用量（月間想定）:**

| API | 想定呼び出し数/月 | 説明 |
|-----|-----------------|------|
| ファイル/フォルダ情報取得 | 100,000 | 監査対象ファイルのメタデータ |
| イベント取得 | 50,000 | エンタープライズイベント同期 |
| OAuth認証 | 10,000 | ユーザー認証フロー |
| **合計** | **160,000** | |

**ユーザー規模:**

| 項目 | 値 |
|------|---|
| エンタープライズユーザー数 | 要確認（既存契約） |
| 外部監査者数 | 要確認 |
| API接続アプリ数 | 1 (Scalar Auditor) |

#### 問い合わせ先

| 項目 | 情報 |
|------|------|
| **ウェブサイト** | https://www.box.com/ja-jp/platform |
| **営業窓口** | 既存契約担当者 |

#### 確認事項

1. 既存Box契約でPlatform APIが利用可能か
2. API呼び出し数の制限と追加料金
3. エンタープライズイベントAPI利用の追加要件

---

## 3. オプションライセンス

### 3.1 ScalarDB Analytics (オプション)

| 項目 | 内容 |
|------|------|
| **製品名** | ScalarDB Analytics |
| **用途** | Multi-storageに対するSpark SQL分析 |
| **必要性** | オプション - 分析要件がある場合 |
| **問い合わせ先** | Scalar, Inc. (ScalarDB Clusterと同時見積もり推奨) |

### 3.2 Datadog / New Relic (オプション)

| 項目 | 内容 |
|------|------|
| **用途** | APM、分散トレーシング、高度な監視 |
| **代替** | Prometheus/Grafana + CloudWatch (OSS + マネージド) |
| **参考価格** | Datadog Pro: $15/ホスト/月〜 |

---

## 4. OSS（オープンソース）

以下はライセンス費用不要のOSSコンポーネントです。

| ソフトウェア | ライセンス | 用途 | 商用サポート (オプション) |
|------------|----------|------|------------------------|
| Kubernetes | Apache 2.0 | コンテナオーケストレーション | AWS EKS (マネージド) |
| PostgreSQL | PostgreSQL License | メインデータベース | AWS Aurora (マネージド) |
| Redis | BSD | キャッシュ | AWS ElastiCache (マネージド) |
| RabbitMQ | MPL 2.0 | メッセージング | AWS MQ (マネージド) |
| Kong | Apache 2.0 | API Gateway | Kong Enterprise (オプション) |
| Prometheus | Apache 2.0 | メトリクス収集 | Grafana Cloud (オプション) |
| Grafana | AGPL 3.0 | 可視化 | Grafana Cloud (オプション) |
| Jaeger | Apache 2.0 | 分散トレーシング | - |
| ELK Stack | Elastic License | ログ管理 | Elastic Cloud (オプション) |

> **Note:** イベントログストレージはAmazon DynamoDB（マネージド）を使用。OSSライセンス不要。

---

## 5. 商用サポート契約（検討事項）

本番運用において、以下の商用サポート契約を検討してください。

### 5.1 推奨

| 製品 | サポートベンダー | 理由 |
|-----|----------------|------|
| **ScalarDB Cluster** | Scalar, Inc. | 必須 - コアコンポーネント |
| **AWS** | AWS Business/Enterprise Support | 推奨 - 本番環境の安定運用 |

### 5.2 オプション

| 製品 | サポートベンダー | 検討理由 |
|-----|----------------|---------|
| Aurora PostgreSQL | AWS Premium Support | 高度なチューニング、24/7サポート |
| DynamoDB | AWS Premium Support | 大規模運用時のエキスパートサポート |
| Kubernetes | Red Hat OpenShift | エンタープライズサポート |
| Kong | Kong Inc. | API Gateway高度機能 |

> **マネージドサービスの利点:** Aurora PostgreSQLとDynamoDBはAWSマネージドサービスのため、DataStax等のサードパーティサポート契約は不要です。AWS Business/Enterprise Supportで十分なサポートが得られます。

---

## 6. ライセンス費用サマリー

| カテゴリ | 製品 | 年額 | 備考 |
|---------|-----|------|------|
| **必須** | ScalarDB Cluster | **要問い合わせ** | 最優先で見積もり取得 |
| **必須** | BOX Platform | **要確認** | 既存契約の範囲確認 |
| オプション | ScalarDB Analytics | 要問い合わせ | 分析要件次第 |
| オプション | AWS Business Support | $100/月〜 | 本番環境推奨 |
| **OSS** | その他 | $0 | マネージドサービス費用は別途 |

---

## 7. 見積もり取得ロードマップ

| 優先度 | アクション | 担当 | 期限 |
|-------|----------|------|------|
| **高** | ScalarDB Cluster見積もり依頼 | PM | 1週間以内 |
| **高** | BOX Platform契約確認 | 情シス | 1週間以内 |
| 中 | AWS Support Plan検討 | インフラ | 2週間以内 |
| 低 | 商用サポート契約検討 | インフラ | 本番稼働前 |

---

## 8. 問い合わせテンプレート

### ScalarDB見積もり依頼メール例

```
件名: ScalarDB Cluster Enterprise 見積もり依頼

Scalar Labs 御中

お世話になっております。
[会社名] の [担当者名] と申します。

マイクロサービスアーキテクチャ移行プロジェクトにおいて、
ScalarDB Cluster Enterpriseの導入を検討しております。

以下の構成で見積もりをお願いいたします。

【本番環境】
- ノード数: 3
- CPU/ノード: 4 vCPU
- メモリ/ノード: 16 GB
- ストレージバックエンド: PostgreSQL, Cassandra
- 想定TPS: 1,000+

【ステージング環境】
- ノード数: 2
- CPU/ノード: 2 vCPU

【開発環境】
- ノード数: 1
- CPU/ノード: 2 vCPU

【サポート要件】
- 24/7サポート希望
- 日本語対応希望

ご回答いただきたい事項：
1. ライセンス体系（ノード数/vCPU数）
2. 年間契約価格
3. サポートレベルと価格
4. 開発/ステージング環境の割引有無
5. ScalarDB Analyticsとのバンドル価格

お手数ですが、ご検討のほどよろしくお願いいたします。

[署名]
```

---

*Generated: 2025-01-13*
*Database: Aurora PostgreSQL + DynamoDB (フルマネージド構成)*
